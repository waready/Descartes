(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{454:function(a,e,s){"use strict";s.r(e);var n=s(65),t=Object(n.a)({},(function(){var a=this,e=a.$createElement,s=a._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"datos-ocultos"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#datos-ocultos"}},[a._v("#")]),a._v(" Datos Ocultos")]),a._v(" "),s("p"),s("div",{staticClass:"table-of-contents"},[s("ul")]),s("p"),a._v(" "),s("p",[a._v("El modelo Web presenta una arquitectura sin estado. Este modelo brinda un esquema\norientado a mensajes, donde hay un cliente que envía mensajes a un servidor cada vez que\nnecesita efectuar alguna acción, el servidor los procesa y le envía otro mensaje al cliente\ncomo respuesta a su solicitud. Es decir, cada vez que se presiona un botón en una página\nWeb se genera un mensaje (con los datos de la página), el cual se envía al servidor, el servidor\nejecuta un programa y le manda una respuesta al cliente que puede ser una nueva página\nWeb o la misma que teníamos antes pero con algunos datos actualizados")]),a._v(" "),s("img",{staticClass:"center",attrs:{src:a.$withBase("/img/18.png")}}),a._v(" "),s("p",[a._v("En el momento que el servidor le envía la respuesta al cliente se cierra la conexión y se\npierden los valores de todas las variables en el servidor, por lo tanto, cada vez que el cliente\nle haga un nuevo pedido le debe volver a mandar los valores de todas las variables. Por este\nmotivo, es que se dice que la arquitectura no tiene estado. El modelo sin estado ayuda a\nhacer aplicaciones más escalables y tolerantes a fallos, sin embargo, como programadores\ndebemos preocuparnos de almacenar en el cliente los valores de las variables que no\nqueremos perder.")]),a._v(" "),s("p",[a._v("La pérdida de valores en las variables se puede dar cuando cargamos variables (que no están\nen el formulario de la página) dentro de la subrutina Start y necesitamos accederlas desde\nuna subrutina asociada a alguna operación. La subrutina Start y la subrutina asociada a la operación se invocan en pedidos distintos al servidor, por lo tanto, los valores asignados en\nel Start que no se almacenen en el cliente se perderán. También se presenta el mismo\nproblema si asignamos el valor de una variable dentro de una operación, y luego queremos\naccederla desde otra operación. Recordemos que cada vez que invocamos una operación se\nenvía un nuevo pedido al servidor, por lo tanto, si al ejecutar la operación en el servidor\nasignamos un valor a una variable y no la almacenamos en la respuesta, su valor se pierde.")]),a._v(" "),s("p",[a._v("Un mecanismo para mantener los valores de las variables es utilizar datos ocultos.\nBásicamente los datos ocultos son campos de la página Web que no son visibles para el\nusuario, sin embargo, se mantienen del lado del cliente y sus valores se mandan al servidor\nen cada pedido.")]),a._v(" "),s("p",[a._v("Cuando el servidor recibe un pedido (por ejemplo, porque se presionó un botón) intenta\nrecuperar los valores de todas las variables en función de lo que le llega en el pedido. A partir\ndel pedido, el servidor carga todas las variables que se encuentren visibles en la página Web,\nlos parámetros y también recupera los valores que están como datos ocultos.")]),a._v(" "),s("p",[a._v("Los datos ocultos se definen en el elemento hidden-data dentro del elemento form. A\ncontinuación mostramos un ejemplo que define la variable Mode como dato oculto:")]),a._v(" "),s("div",{staticClass:"language-xml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("object-definition")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("libraryName")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("Dlya.Basic"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("libraryVersion")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("1.0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("designer")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("WebUI"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("web-ui")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("title")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("Titulo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("class")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("other"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("form")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        ...\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("form")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("hidden-data")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("data")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),s("span",{pre:!0,attrs:{class:"token entity named-entity",title:"&"}},[a._v("&amp;")]),a._v("Mode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("/>")])]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("hidden-data")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("web-ui")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("object-definition")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br")])]),s("p",[a._v("Como se observa en el ejemplo anterior los datos ocultos se definen con el elemento data.\nEl único atributo de este elemento es name, en el cual debe ir el nombre de una variable. El\nconcepto de datos ocultos es similar al de columnas ocultas dentro de las grillas, sin\nembargo, en los datos ocultos se almacena un único valor y en las columnas ocultas se\nalmacena un valor por cada fila.")]),a._v(" "),s("p",[a._v("En resumen, una variable hay que definirla como dato oculto cuando:")]),a._v(" "),s("p",[a._v("La variable no está asociada a un elemento de la página Web (por ejemplo, un campo\no una grilla), ni está definida en la regla Parm. Si la variable está asociada a un\nelemento de la página Web no es necesario definirla como dato oculto, incluso\naunque el elemento tenga definido una condición de visibilidad que podría ocultarlo\nen algún momento")]),a._v(" "),s("ul",[s("li",[s("p",[a._v("Además de la condición anterior, la variable debe cumplir al menos una de las\nsiguientes condiciones para que sea necesario declararla como oculta:")])]),a._v(" "),s("li",[s("p",[a._v("Se le asigna un valor en una subrutina, y luego se consulta su valor en otra subrutina\nque se invoca en un pedido distinto al servidor. Un caso típico de esta situación es:\ninicializamos una variable en el Start y necesitamos utilizarla en una subrutina asociada a una operación. Otro caso típico es: cambiamos el valor de la variable en\nuna operación y necesitamos leer su valor en otra operación. En estos dos casos las\nsubrutinas mencionadas se invocan como consecuencia de pedidos distintos al\nservidor, por lo tanto, si no almacenamos el valor de la variable como dato oculto, su\nvalor se pierde.")])]),a._v(" "),s("li",[s("p",[a._v("Está referenciada en la lista de parámetros de un prompt y no está asociada a ningún\nelemento visual de la página (como por ejemplo, un elemento field). Este caso se\npuede dar si, por ejemplo, en un prompt queremos mostrar únicamente las facturas\nde un cliente y le pasamos por parámetro la variable CliCod (con el código de cliente)\npara filtrar los datos. Aquí también es necesario declarar la variable CliCod como dato\noculto si no aparece en otro elemento de la página. Por la forma en que se genera el\ncódigo para el caso particular de prompts, es obligatorio que todas las variables que\nparticipan en los parámetros sean parte de la página Web (ya sea como dato oculto\no como un elemento del formulario), no alcanza con que estén declaradas en la regla\nParm.")])]),a._v(" "),s("li",[s("p",[a._v("Forma parte de expresiones dentro del formulario (por ejemplo, se utiliza en una\ncondición de visibilidad sobre un campo).")])])])])}),[],!1,null,null,null);e.default=t.exports}}]);